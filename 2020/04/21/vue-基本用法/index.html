<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>vue-基本用法 | Cheers's blog</title><meta name="description" content="事件事件绑定事件函数参数传递 如果事件直接绑定函数名称，那么默认会传递事件对象作为事件函数的第一个参数 如果事件绑定函数调用，那么事件对象必须作为最后一个参数显示传递，并且事件对象的名称必须是$event实参  事件修饰符 .stop阻止冒泡 1v-on:click.stop&#x3D;&quot;handle&quot;  .prevent阻止默认行为 1v-on:click.prevent&#x3D;&quot;handle&quot;    按键修饰"><meta name="keywords" content="VUE,VUE 2"><meta name="author" content="Cheers"><meta name="copyright" content="Cheers"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="vue-基本用法"><meta name="twitter:description" content="事件事件绑定事件函数参数传递 如果事件直接绑定函数名称，那么默认会传递事件对象作为事件函数的第一个参数 如果事件绑定函数调用，那么事件对象必须作为最后一个参数显示传递，并且事件对象的名称必须是$event实参  事件修饰符 .stop阻止冒泡 1v-on:click.stop&#x3D;&quot;handle&quot;  .prevent阻止默认行为 1v-on:click.prevent&#x3D;&quot;handle&quot;    按键修饰"><meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="og:type" content="article"><meta property="og:title" content="vue-基本用法"><meta property="og:url" content="https://xiaoxin1993.gitee.io/2020/04/21/vue-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/"><meta property="og:site_name" content="Cheers's blog"><meta property="og:description" content="事件事件绑定事件函数参数传递 如果事件直接绑定函数名称，那么默认会传递事件对象作为事件函数的第一个参数 如果事件绑定函数调用，那么事件对象必须作为最后一个参数显示传递，并且事件对象的名称必须是$event实参  事件修饰符 .stop阻止冒泡 1v-on:click.stop&#x3D;&quot;handle&quot;  .prevent阻止默认行为 1v-on:click.prevent&#x3D;&quot;handle&quot;    按键修饰"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-04-21T02:30:25.437Z"><meta property="article:modified_time" content="2020-04-21T02:30:25.437Z"><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#fff"/><meta name="msapplication-TileColor" content="#fff"/><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"/><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://xiaoxin1993.gitee.io/2020/04/21/vue-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/"><link rel="prev" title="js-标准库" href="https://xiaoxin1993.gitee.io/2020/04/23/js-%E6%A0%87%E5%87%86%E5%BA%93/"><link rel="next" title="vue-vue3.0" href="https://xiaoxin1993.gitee.io/2020/04/21/vue-vue3.0/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"EMXSTUCH7A","apiKey":"5e62a2c8d04b2e5a21e6bb491c9bf2f9","indexName":"blog","hits":{"per_page":6},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: false,
  Snackbar: {"bookmark":{"message_prev":"Press","message_next":"to bookmark this page"},"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar_img.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">34</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">10</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">45</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#事件"><span class="toc-number">1.</span> <span class="toc-text">事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#事件绑定"><span class="toc-number">1.1.</span> <span class="toc-text">事件绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#事件函数参数传递"><span class="toc-number">1.1.1.</span> <span class="toc-text">事件函数参数传递</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#事件修饰符"><span class="toc-number">1.1.2.</span> <span class="toc-text">事件修饰符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#按键修饰符"><span class="toc-number">1.1.3.</span> <span class="toc-text">按键修饰符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自定义按键修饰符"><span class="toc-number">1.1.4.</span> <span class="toc-text">自定义按键修饰符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#属性绑定"><span class="toc-number">2.</span> <span class="toc-text">属性绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#样式绑定"><span class="toc-number">3.</span> <span class="toc-text">样式绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#class样式处理"><span class="toc-number">3.1.</span> <span class="toc-text">class样式处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#style样式处理"><span class="toc-number">3.2.</span> <span class="toc-text">style样式处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#表单操作"><span class="toc-number">4.</span> <span class="toc-text">表单操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#表单域修饰符"><span class="toc-number">4.1.</span> <span class="toc-text">表单域修饰符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义指令"><span class="toc-number">5.</span> <span class="toc-text">自定义指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#为何需要自定义指令"><span class="toc-number">5.1.</span> <span class="toc-text">为何需要自定义指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义指令的语法规则（获取元素焦点）"><span class="toc-number">5.2.</span> <span class="toc-text">自定义指令的语法规则（获取元素焦点）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义指令的用法"><span class="toc-number">5.3.</span> <span class="toc-text">自定义指令的用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带参数的自定义指令及使用（改变元素背景色）"><span class="toc-number">5.4.</span> <span class="toc-text">带参数的自定义指令及使用（改变元素背景色）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#局部指令"><span class="toc-number">6.</span> <span class="toc-text">局部指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算属性"><span class="toc-number">7.</span> <span class="toc-text">计算属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#侦听器"><span class="toc-number">8.</span> <span class="toc-text">侦听器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#过滤器"><span class="toc-number">9.</span> <span class="toc-text">过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义过滤器"><span class="toc-number">9.1.</span> <span class="toc-text">自定义过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#过滤器的使用"><span class="toc-number">9.2.</span> <span class="toc-text">过滤器的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#局部过滤器"><span class="toc-number">9.3.</span> <span class="toc-text">局部过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带参数的过滤器"><span class="toc-number">9.4.</span> <span class="toc-text">带参数的过滤器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#生命周期"><span class="toc-number">10.</span> <span class="toc-text">生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#组件化开发"><span class="toc-number">11.</span> <span class="toc-text">组件化开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#组件化规范：Web-Components"><span class="toc-number">11.1.</span> <span class="toc-text">组件化规范：Web Components</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组件注册"><span class="toc-number">11.2.</span> <span class="toc-text">组件注册</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#全局组件注册语法"><span class="toc-number">11.2.1.</span> <span class="toc-text">全局组件注册语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#局部组件注册"><span class="toc-number">11.2.2.</span> <span class="toc-text">局部组件注册</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组件间数据交互"><span class="toc-number">11.3.</span> <span class="toc-text">组件间数据交互</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#父组件向子组件传值"><span class="toc-number">11.3.1.</span> <span class="toc-text">父组件向子组件传值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#子组件向父组件传值"><span class="toc-number">11.3.2.</span> <span class="toc-text">子组件向父组件传值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#非父子组件间传值"><span class="toc-number">11.3.3.</span> <span class="toc-text">非父子组件间传值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组件插槽"><span class="toc-number">11.4.</span> <span class="toc-text">组件插槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基本用法"><span class="toc-number">11.5.</span> <span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#具名插槽用法"><span class="toc-number">11.6.</span> <span class="toc-text">具名插槽用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#作用域插槽"><span class="toc-number">11.7.</span> <span class="toc-text">作用域插槽</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue前端交互模式"><span class="toc-number">12.</span> <span class="toc-text">Vue前端交互模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#url地址格式"><span class="toc-number">12.1.</span> <span class="toc-text">url地址格式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口调用-fetch用法"><span class="toc-number">13.</span> <span class="toc-text">接口调用-fetch用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概述"><span class="toc-number">13.1.</span> <span class="toc-text">概述</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口调用-axios用法"><span class="toc-number">14.</span> <span class="toc-text">接口调用-axios用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本特性"><span class="toc-number">14.1.</span> <span class="toc-text">基本特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基本用法-1"><span class="toc-number">14.2.</span> <span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用API"><span class="toc-number">14.3.</span> <span class="toc-text">常用API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#响应结果"><span class="toc-number">14.4.</span> <span class="toc-text">响应结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全局配置"><span class="toc-number">14.5.</span> <span class="toc-text">全局配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#拦截器"><span class="toc-number">14.6.</span> <span class="toc-text">拦截器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口调用-async-await用法"><span class="toc-number">15.</span> <span class="toc-text">接口调用-async&#x2F;await用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本用法-2"><span class="toc-number">15.1.</span> <span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#处理多个异步请求"><span class="toc-number">15.2.</span> <span class="toc-text">处理多个异步请求</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路由"><span class="toc-number">16.</span> <span class="toc-text">路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue-Router"><span class="toc-number">16.1.</span> <span class="toc-text">Vue Router</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#基本使用"><span class="toc-number">16.1.1.</span> <span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#嵌套路由"><span class="toc-number">16.1.2.</span> <span class="toc-text">嵌套路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#动态路由"><span class="toc-number">16.1.3.</span> <span class="toc-text">动态路由</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#基本用法-3"><span class="toc-number">16.1.3.1.</span> <span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#路由组件传递参数"><span class="toc-number">16.1.3.2.</span> <span class="toc-text">路由组件传递参数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#命名路由"><span class="toc-number">16.1.4.</span> <span class="toc-text">命名路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#编程式导航"><span class="toc-number">16.1.5.</span> <span class="toc-text">编程式导航</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><div class="post-bg" id="nav" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Cheers's blog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">vue-基本用法</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2020-04-21 10:30:25"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2020-04-21</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2020-04-21 10:30:25"><i class="fa fa-history" aria-hidden="true"></i> Updated 2020-04-21</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/VUE/">VUE</a><i class="fa fa-angle-right post-meta__separator" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/VUE/VUE-2/">VUE 2</a><i class="fa fa-angle-right post-meta__separator" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/VUE/VUE-2/notes/">notes</a><i class="fa fa-angle-right post-meta__separator" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/VUE/VUE-2/notes/%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/">基本用法</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><h4 id="事件函数参数传递"><a href="#事件函数参数传递" class="headerlink" title="事件函数参数传递"></a>事件函数参数传递</h4><ol>
<li>如果事件直接绑定函数名称，那么默认会传递事件对象作为事件函数的第一个参数</li>
<li>如果事件绑定函数调用，那么事件对象必须作为最后一个参数显示传递，并且事件对象的名称必须是$event实参</li>
</ol>
<h4 id="事件修饰符"><a href="#事件修饰符" class="headerlink" title="事件修饰符"></a>事件修饰符</h4><ul>
<li><p>.stop阻止冒泡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-on:click.stop=<span class="string">"handle"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>.prevent阻止默认行为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-on:click.prevent=<span class="string">"handle"</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="按键修饰符"><a href="#按键修饰符" class="headerlink" title="按键修饰符"></a>按键修饰符</h4><ul>
<li><p>.enter回车键</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-on:keyup.enter=<span class="string">"submit"</span>&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>.delete删除键</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-on:keyup.delete=<span class="string">"clearContent"</span>&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="自定义按键修饰符"><a href="#自定义按键修饰符" class="headerlink" title="自定义按键修饰符"></a>自定义按键修饰符</h4><ul>
<li><p>全局config.keyCodes对象</p>
<p>规则：自定义按键修饰符名字是自定义的，但是对应的值必须是按键对应的event.keyCode值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过事件对象event.keyCode找到键值</span></span><br><span class="line">Vue.config.keyCodes.f1 = <span class="number">112</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h2 id="属性绑定"><a href="#属性绑定" class="headerlink" title="属性绑定"></a>属性绑定</h2><p>v-model的底层实现原理分析</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input v-bind:value=<span class="string">"msg"</span> v-on:input=<span class="string">"msg=$event.target.value"</span> &gt;</span><br></pre></td></tr></table></figure>



<h2 id="样式绑定"><a href="#样式绑定" class="headerlink" title="样式绑定"></a>样式绑定</h2><h3 id="class样式处理"><a href="#class样式处理" class="headerlink" title="class样式处理"></a>class样式处理</h3><ul>
<li><p>对象语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:<span class="class"><span class="keyword">class</span></span>=<span class="string">"&#123; active:isActive &#125;"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>数组语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:<span class="class"><span class="keyword">class</span></span>=<span class="string">"[activeClass,errorClass]"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>样式绑定相关语法细节：</p>
<ol>
<li><p>对象绑定和数组绑定可以结合使用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:<span class="class"><span class="keyword">class</span></span>=<span class="string">"[activeClass,errorClass,&#123;text:isText&#125;]"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>class绑定的值可以简化操作</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">	arrClasses: [<span class="string">'active'</span>,<span class="string">'error'</span>],</span><br><span class="line">  objClasses: &#123;</span><br><span class="line">    active: <span class="literal">true</span>,</span><br><span class="line">    error: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>默认的class如何处理</p>
<p>默认的class会保留，v-bind绑定的class会追加到默认的后面</p>
</li>
</ol>
<h3 id="style样式处理"><a href="#style样式处理" class="headerlink" title="style样式处理"></a>style样式处理</h3><ul>
<li><p>对象语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:style=<span class="string">"&#123;border:borderStyle,width:widthStyle&#125;"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div v-bind:style="objStyles"&gt;&lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data:&#123;</span><br><span class="line">  borderStyle:<span class="string">'1px solid blue'</span>,</span><br><span class="line">  widthStyle: <span class="string">'100px'</span>,</span><br><span class="line">  objStyles:&#123;</span><br><span class="line">    borderStyle:<span class="string">'1px solid blue'</span>,</span><br><span class="line">    widthStyle: <span class="string">'100px'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>数组语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:style=<span class="string">"[baseStyles,overrideStyles]"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
<h2 id="表单操作"><a href="#表单操作" class="headerlink" title="表单操作"></a>表单操作</h2><h3 id="表单域修饰符"><a href="#表单域修饰符" class="headerlink" title="表单域修饰符"></a>表单域修饰符</h3><ul>
<li>number：转化为数值</li>
<li>trim：去掉开始和结尾的空格</li>
<li>lazy：将input事件切换为change事件</li>
</ul>
<h2 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h2><h3 id="为何需要自定义指令"><a href="#为何需要自定义指令" class="headerlink" title="为何需要自定义指令"></a>为何需要自定义指令</h3><p>内置指令不满足需求</p>
<h3 id="自定义指令的语法规则（获取元素焦点）"><a href="#自定义指令的语法规则（获取元素焦点）" class="headerlink" title="自定义指令的语法规则（获取元素焦点）"></a>自定义指令的语法规则（获取元素焦点）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(<span class="string">'focus'</span>,&#123;</span><br><span class="line">	inserted: <span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//el表示指令所绑定的元素</span></span><br><span class="line">		el.focus()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="自定义指令的用法"><a href="#自定义指令的用法" class="headerlink" title="自定义指令的用法"></a>自定义指令的用法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"text"</span> v-focus&gt;</span><br></pre></td></tr></table></figure>

<h3 id="带参数的自定义指令及使用（改变元素背景色）"><a href="#带参数的自定义指令及使用（改变元素背景色）" class="headerlink" title="带参数的自定义指令及使用（改变元素背景色）"></a>带参数的自定义指令及使用（改变元素背景色）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Vue.directive(<span class="string">'color'</span>, &#123;</span><br><span class="line">    inserted: <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</span><br><span class="line">        el.style.backgroundColor = binding.value.color</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">&lt;input type=<span class="string">"text"</span> v-color=<span class="string">'&#123;color:"orange"&#125;'</span>&gt;</span><br></pre></td></tr></table></figure>



<h2 id="局部指令"><a href="#局部指令" class="headerlink" title="局部指令"></a>局部指令</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在vue的实例中添加directives属性</span></span><br><span class="line">directives: &#123;</span><br><span class="line">	focus: &#123;</span><br><span class="line">		<span class="comment">//指令的定义</span></span><br><span class="line">		inserted:<span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">			el.focus()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><p>计算属性与方法的区别</p>
<ul>
<li>计算属性是基于他们的依赖进行缓存的</li>
<li>方法不存在缓存</li>
</ul>
<h2 id="侦听器"><a href="#侦听器" class="headerlink" title="侦听器"></a>侦听器</h2><p>应用场景：数据变化时执行异步或开销较大的操作</p>
<p>用法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">	firstName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><p>作用： 格式化数据，比如将字符串格式化为首字母大写，将日期格式化为指定的格式等</p>
<h3 id="自定义过滤器"><a href="#自定义过滤器" class="headerlink" title="自定义过滤器"></a>自定义过滤器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.filter(<span class="string">'过滤器名称'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line"><span class="comment">//过滤器业务逻辑</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="过滤器的使用"><a href="#过滤器的使用" class="headerlink" title="过滤器的使用"></a>过滤器的使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;&#123;&#123; msg | upper &#125;&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div&gt;&#123;&#123; msg | upper | lower &#125;&#125;&lt;/</span>div&gt;</span><br><span class="line">&lt;div v-bind:id=<span class="string">"id | formatId"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="局部过滤器"><a href="#局部过滤器" class="headerlink" title="局部过滤器"></a>局部过滤器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">filers:&#123;</span><br><span class="line">	upper:<span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="带参数的过滤器"><a href="#带参数的过滤器" class="headerlink" title="带参数的过滤器"></a>带参数的过滤器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Vue.filter(<span class="string">'format'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">val,arg</span>)</span>&#123;</span><br><span class="line">	<span class="comment">//val就是过滤器传递过来的参数</span></span><br><span class="line">  <span class="keyword">if</span>(arg === <span class="string">"yyyy-MM-dd"</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> ret = <span class="string">''</span>;</span><br><span class="line">    ret += val.getFullYear() + <span class="string">'-'</span> + (val.getMonth() + <span class="number">1</span>) + <span class="string">'-'</span> + val.getDate()</span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">&lt;div&gt;&#123;&#123; date | format(<span class="string">'yyyy-MM-dd'</span>) &#125;&#125;&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><ol>
<li><p>主要阶段</p>
<ul>
<li><p>挂载（初始化相关属性）</p>
<ul>
<li><p>beforeCreate</p>
<p>在实例初始化之后，数据观测和事件配置之前被调用</p>
</li>
<li><p>created</p>
<p>在实例创建完成后被立即调用</p>
</li>
<li><p>beforeMount</p>
<p>在挂载开始之前被调用</p>
</li>
<li><p>mounted</p>
<p>被新创建的vm.$el替换，并挂载到实例上去之后调用该钩子</p>
</li>
</ul>
</li>
<li><p>更新（元素或组件的变更操作）</p>
<ul>
<li><p>beforeUpdate</p>
<p>数据更新时调用，发生在虚拟DOM打补丁之前</p>
</li>
<li><p>updated</p>
<p>由于数据更改导致的虚拟DOm重新渲染和打补丁，在这之后会调用该钩子</p>
</li>
</ul>
</li>
<li><p>销毁（销毁相关属性）</p>
<ul>
<li><p>beforeDestroy</p>
<p>实例销毁之前调用</p>
</li>
<li><p>destroyed</p>
<p>实例销毁之后调用</p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="组件化开发"><a href="#组件化开发" class="headerlink" title="组件化开发"></a>组件化开发</h2><h3 id="组件化规范：Web-Components"><a href="#组件化规范：Web-Components" class="headerlink" title="组件化规范：Web Components"></a>组件化规范：Web Components</h3><ul>
<li>希望尽可能多的重用代码</li>
<li>自定义组件的方式不太容易</li>
<li>多次使用组件可能导致冲突</li>
</ul>
<p>通过创建<strong>封装好功能</strong>的定制元素解决上述问题</p>
<h3 id="组件注册"><a href="#组件注册" class="headerlink" title="组件注册"></a>组件注册</h3><p>组件名称推荐用中横线的方式命名</p>
<h4 id="全局组件注册语法"><a href="#全局组件注册语法" class="headerlink" title="全局组件注册语法"></a>全局组件注册语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(组件名称,&#123;</span><br><span class="line">	data:组件数据,</span><br><span class="line">	template:组件模版内容</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>组件注册注意事项</p>
<ol>
<li>data必须是一个函数</li>
<li>组件模板内容必须是单个根元素</li>
<li>组件模板内容可是是模板字符串（ES6语法，需要浏览器提供支持）</li>
</ol>
<h4 id="局部组件注册"><a href="#局部组件注册" class="headerlink" title="局部组件注册"></a>局部组件注册</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> componentA = &#123;&#125;</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">'#app'</span>,</span><br><span class="line">	components: &#123;</span><br><span class="line">		<span class="string">'component-a'</span>:componentA</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="组件间数据交互"><a href="#组件间数据交互" class="headerlink" title="组件间数据交互"></a>组件间数据交互</h3><h4 id="父组件向子组件传值"><a href="#父组件向子组件传值" class="headerlink" title="父组件向子组件传值"></a>父组件向子组件传值</h4><ol>
<li><p>组件内部通过props接收传递过来的值</p>
</li>
<li><p>父组件通过属性将值传递给子组件</p>
</li>
<li><p>props属性名规则</p>
<ul>
<li>在props中使用驼峰形式，模版中需要使用短横线的形式</li>
<li>字符串形式的模版中没有这个限制</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'menu-item'</span>,&#123;</span><br><span class="line">  <span class="comment">//在js中使用驼峰式</span></span><br><span class="line">	props: [<span class="string">'menuTitle'</span>],</span><br><span class="line">	template:<span class="string">'&lt;div&gt;&#123;&#123; menuTitle &#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//在html中是短横线方式</span></span><br><span class="line">&lt;menu-item menu-title=<span class="string">"nihao"</span>&gt;&lt;<span class="regexp">/menu-item&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="子组件向父组件传值"><a href="#子组件向父组件传值" class="headerlink" title="子组件向父组件传值"></a>子组件向父组件传值</h4><p>子组件通过自定义事件向父组件传递信息</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子组件 触发事件</span></span><br><span class="line">&lt;button v-on:click=<span class="string">"$emit('enlarge-text')"</span>&gt;扩大字体&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/父组件</span></span><br><span class="line"><span class="regexp">&lt;menu-item @enlarge-text="fontSize += 0.1"&gt;&lt;/m</span>enu-item&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//传参</span></span><br><span class="line"><span class="comment">//子组件 触发事件</span></span><br><span class="line">&lt;button v-on:click=<span class="string">"$emit('enlarge-text',5)"</span>&gt;扩大字体&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/父组件</span></span><br><span class="line"><span class="regexp">&lt;menu-item @enlarge-text="handle($event)"&gt;&lt;/m</span>enu-item&gt;</span><br></pre></td></tr></table></figure>

<h4 id="非父子组件间传值"><a href="#非父子组件间传值" class="headerlink" title="非父子组件间传值"></a>非父子组件间传值</h4><ol>
<li><p>单独的事件中心管理组件间的通信</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> eventHub = <span class="keyword">new</span> Vue()</span><br></pre></td></tr></table></figure>
</li>
<li><p>监听事件与销毁事件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eventHub.$on(<span class="string">'add-todo'</span>,addTodo)</span><br><span class="line">eventHub.$off(<span class="string">'add-todo'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>触发事件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eventHub.$emit(<span class="string">'add-todo'</span>,id)</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="组件插槽"><a href="#组件插槽" class="headerlink" title="组件插槽"></a>组件插槽</h3><ul>
<li>父组件向子组件传递内容</li>
</ul>
<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><ol>
<li><p>插槽位置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'alert-box'</span>,&#123;</span><br><span class="line">	template: <span class="string">`</span></span><br><span class="line"><span class="string">		&lt;div&gt;</span></span><br><span class="line"><span class="string">			&lt;slot&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">		&lt;/div&gt;</span></span><br><span class="line"><span class="string">	`</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>插槽内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;alert-box&gt;Something happened.&lt;<span class="regexp">/alert-box&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="具名插槽用法"><a href="#具名插槽用法" class="headerlink" title="具名插槽用法"></a>具名插槽用法</h3><ol>
<li><p>插槽定义</p>
</li>
<li><p>插槽内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;定义</span><br><span class="line">&lt;slot name&#x3D;&quot;header&quot;&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">&lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">&lt;slot name&#x3D;&quot;footer&quot;&gt;&lt;&#x2F;slot&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;使用</span><br><span class="line">&lt;div&gt;</span><br><span class="line">	&lt;template slot&#x3D;&quot;header&quot;&gt;</span><br><span class="line">		&lt;p&gt;头部&lt;&#x2F;p&gt;</span><br><span class="line">	&lt;&#x2F;template&gt;</span><br><span class="line">	&lt;p&gt;内容&lt;&#x2F;p&gt;</span><br><span class="line">	&lt;p slot&#x3D;&quot;footer&quot;&gt;尾部&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h3><ul>
<li>应用场景：父组件对子组件的内容进行加工处理</li>
</ul>
<ol>
<li><p>插槽定义</p>
</li>
<li><p>插槽内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义</span></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">	&lt;li v-<span class="keyword">for</span>=<span class="string">"item in list"</span> v-bind:key=<span class="string">"item.id"</span>&gt;</span><br><span class="line">		&lt;slot v-bind:item=<span class="string">"item"</span>&gt;  <span class="comment">//绑定自定义属性，提供给父组件</span></span><br><span class="line">			&#123;&#123; item.name &#125;&#125;</span><br><span class="line">		&lt;<span class="regexp">/slot&gt;</span></span><br><span class="line"><span class="regexp">	&lt;/</span>li&gt;</span><br><span class="line">&lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/内容</span></span><br><span class="line"><span class="regexp">&lt;fruit-list&gt;</span></span><br><span class="line"><span class="regexp">	&lt;template slot-scope="slotProps"&gt;  /</span><span class="regexp">/获取子组件绑定的自定义属性</span></span><br><span class="line"><span class="regexp">		&lt;strong v-if="slotProps.item.current"&gt;</span></span><br><span class="line"><span class="regexp">			&#123;&#123; slotProps.item.text &#125;&#125;</span></span><br><span class="line"><span class="regexp">		&lt;/</span>strong&gt;</span><br><span class="line">	&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>fruit-list&gt;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="Vue前端交互模式"><a href="#Vue前端交互模式" class="headerlink" title="Vue前端交互模式"></a>Vue前端交互模式</h2><h3 id="url地址格式"><a href="#url地址格式" class="headerlink" title="url地址格式"></a>url地址格式</h3><ol>
<li><p>传统形式的url</p>
<p>格式：schema://host:port/path?query#fragment</p>
<ul>
<li>schema:协议，例如http、https、ftp</li>
<li>host：域名或者IP地址</li>
<li>port：端口，http默认端口80，可以省略</li>
<li>path：路径</li>
<li>query：查询参数</li>
<li>fragment：锚点（哈希Hash），用于定位页面的某个位置</li>
</ul>
</li>
<li><p>Restful形式的url</p>
<ul>
<li>http请求方式<ul>
<li>get查询</li>
<li>post添加</li>
<li>put修改</li>
<li>delete删除</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="接口调用-fetch用法"><a href="#接口调用-fetch用法" class="headerlink" title="接口调用-fetch用法"></a>接口调用-fetch用法</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><ol>
<li><p>基本特性</p>
<ul>
<li>更加简单的数据获取方式，功能更强大、更灵活，可以看作是xhr的升级版</li>
<li>基于Promise实现</li>
</ul>
</li>
<li><p>语法结构</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fetch(url).then(fn2).then(fn3).catch(fn)</span><br></pre></td></tr></table></figure>
</li>
<li><p>基本用法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fetch(&#39;&#x2F;abc&#39;).then(data &#x3D;&gt; &#123;</span><br><span class="line">	return data.text()  &#x2F;&#x2F;fetch提供的API，返回的是Promise实例对象</span><br><span class="line">&#125;).then(ret &#x3D;&gt; &#123;</span><br><span class="line">	&#x2F;&#x2F;注意：这里得到的才是最终的数据</span><br><span class="line">	console.log(ret)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>请求参数</p>
<p>常用配置选项</p>
<ul>
<li><p>method(String):Http请求方式，默认为get</p>
</li>
<li><p>body(String):Http的请求参数</p>
</li>
<li><p>headers(Object):Http的请求头，默认为{}</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">fetch(<span class="string">'/abc'</span>,&#123;</span><br><span class="line">	method: <span class="string">'get'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> data.text()</span><br><span class="line">&#125;).then(<span class="function"><span class="params">ret</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="comment">//注意：这里得到的才是最终的数据</span></span><br><span class="line">	<span class="built_in">console</span>.log(ret)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fetch(<span class="string">'/abc'</span>,&#123;</span><br><span class="line">	method: <span class="string">'post'</span>,</span><br><span class="line">  body: <span class="string">'uname=lis&amp;pwd=12'</span>,</span><br><span class="line">  <span class="comment">//或者写成</span></span><br><span class="line">  body: <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">    uname: <span class="string">'lis'</span>,</span><br><span class="line">    pwd: <span class="number">12</span></span><br><span class="line">  &#125;),</span><br><span class="line">  headers: &#123;</span><br><span class="line">    <span class="string">'Content-Type'</span>:<span class="string">'application/x-www-form-urlencoded'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> data.text()</span><br><span class="line">&#125;).then(<span class="function"><span class="params">ret</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="comment">//注意：这里得到的才是最终的数据</span></span><br><span class="line">	<span class="built_in">console</span>.log(ret)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>响应结果</p>
<p>响应数据格式</p>
<ul>
<li><p>text()</p>
<p>将返回体处理成字符串类型</p>
</li>
<li><p>json()</p>
<p>返回结果和JSON.parse(responseText)一样</p>
</li>
</ul>
</li>
</ol>
<h2 id="接口调用-axios用法"><a href="#接口调用-axios用法" class="headerlink" title="接口调用-axios用法"></a>接口调用-axios用法</h2><h3 id="基本特性"><a href="#基本特性" class="headerlink" title="基本特性"></a>基本特性</h3><p>是一个基于Promise用于浏览器和node.js的http客户端</p>
<p>它具有以下特性：</p>
<ul>
<li>支持浏览器和node.js</li>
<li>支持promise</li>
<li>能拦截请求数据</li>
<li>自动转化json数据</li>
</ul>
<h3 id="基本用法-1"><a href="#基本用法-1" class="headerlink" title="基本用法"></a>基本用法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">'/data'</span>).then(<span class="function"><span class="params">ret</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(ret.data)<span class="comment">//data是固定的，用于获取后台返回的数据</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a>常用API</h3><ul>
<li><p>get</p>
<p>查询数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过url传递参数</span></span><br><span class="line">axios.get(<span class="string">'/data?id=1'</span>).then(<span class="function"><span class="params">ret</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(ret.data)<span class="comment">//data是固定的，用于获取后台返回的数据</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//后台接收</span></span><br><span class="line">app.get(<span class="string">'/data'</span>,(req,res)=&gt;&#123;</span><br><span class="line">  res.send(req.query.id)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//restful格式的url</span></span><br><span class="line">axios.get(<span class="string">'/data/1'</span>).then(<span class="function"><span class="params">ret</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(ret.data)<span class="comment">//data是固定的，用于获取后台返回的数据</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//后台接收(restful格式的url)</span></span><br><span class="line">app.get(<span class="string">'/data/:id'</span>,(req,res)=&gt;&#123;</span><br><span class="line">  res.send(req.params.id)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//通过params选项传递参数</span></span><br><span class="line">axios.get(<span class="string">'/data'</span>,&#123;</span><br><span class="line">  params:&#123;</span><br><span class="line">    id:<span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">ret</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(ret.data)<span class="comment">//data是固定的，用于获取后台返回的数据</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//后台接收</span></span><br><span class="line">app.get(<span class="string">'/data'</span>,(req,res)=&gt;&#123;</span><br><span class="line">  res.send(req.query.id)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>post</p>
<p>添加</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过选项传递参数</span></span><br><span class="line">axios.post(<span class="string">'/data'</span>,&#123;</span><br><span class="line">  uname: <span class="string">'lily'</span>,</span><br><span class="line">  pwd: <span class="number">123</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">ret</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(ret.data)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//后台接收</span></span><br><span class="line">app.post(<span class="string">'/data'</span>,(req,res)=&gt;&#123;</span><br><span class="line">  res.send(req.body)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//通过URLSearchParams传递参数（application/x-www-form-urlencoded）</span></span><br><span class="line"><span class="keyword">const</span> params = <span class="keyword">new</span> URLSearchParams()</span><br><span class="line">params.append(<span class="string">'param1'</span>,<span class="string">'value1'</span>)</span><br><span class="line">axios.post(<span class="string">'/data'</span>,params).then(<span class="function"><span class="params">ret</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ret.data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>put</p>
<p>修改</p>
<p>参数传递方式与post类似</p>
</li>
<li><p>delete</p>
<p>删除</p>
<p>参数传递方式与get类似</p>
</li>
</ul>
<h3 id="响应结果"><a href="#响应结果" class="headerlink" title="响应结果"></a>响应结果</h3><p>响应结果的主要属性：</p>
<ul>
<li><p>config</p>
</li>
<li><p>data</p>
<p>实际响应回来的数据</p>
</li>
<li><p>headers</p>
<p>响应头信息</p>
</li>
<li><p>request</p>
</li>
<li><p>status</p>
<p>响应状态码</p>
</li>
<li><p>statusText</p>
<p>响应状态信息</p>
</li>
</ul>
<h3 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h3><ul>
<li><p>axios.defaults.timeout = 3000 </p>
<p>超时时间</p>
</li>
<li><p>axios.defaults.baseURL = ‘<a href="http://localhost:3000/&#39;" target="_blank" rel="noopener">http://localhost:3000/&#39;</a>  </p>
<p>配置请求的基准url地址</p>
</li>
<li><p>axios.defaults.headers[‘mytoken’] = ‘afdffdsfsd’</p>
<p>设置请求头信息</p>
</li>
</ul>
<h3 id="拦截器"><a href="#拦截器" class="headerlink" title="拦截器"></a>拦截器</h3><ul>
<li><p>请求拦截器</p>
<p>在请求发出之前设置一些信息</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加一个请求拦截器</span></span><br><span class="line">axios.interceptors.request.use(<span class="function"><span class="keyword">function</span>(<span class="params">config</span>)</span>&#123;</span><br><span class="line">	<span class="comment">//在请求发出之前进行一些信息设置</span></span><br><span class="line">	<span class="keyword">return</span> config</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">	<span class="comment">//处理响应的错误信息</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>响应拦截器</p>
<p>在数据返回之前对数据加工处理</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.response.use(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> res</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>





</li>
</ul>
<h2 id="接口调用-async-await用法"><a href="#接口调用-async-await用法" class="headerlink" title="接口调用-async/await用法"></a>接口调用-async/await用法</h2><h3 id="基本用法-2"><a href="#基本用法-2" class="headerlink" title="基本用法"></a>基本用法</h3><ul>
<li><p>ES7新语法，可以更方便的进行异步操作</p>
</li>
<li><p>async关键字用于函数上（async函数的返回值是Promise实例对象）</p>
</li>
<li><p>await关键字用于async函数当中（await可以得到异步的结果）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">queryData</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">const</span> ret = <span class="keyword">await</span> axios.get(<span class="string">'/data'</span>)</span><br><span class="line">  <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line">queryData.then(<span class="function"><span class="params">ret</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ret)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="处理多个异步请求"><a href="#处理多个异步请求" class="headerlink" title="处理多个异步请求"></a>处理多个异步请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">queryData</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> info = <span class="keyword">await</span> axios.get(<span class="string">'/async1'</span>)</span><br><span class="line">  <span class="keyword">const</span> ret = <span class="keyword">await</span> axios.get(<span class="string">'/async2?info='</span>+info.data)</span><br><span class="line">  <span class="keyword">return</span> ret</span><br><span class="line">&#125;</span><br><span class="line">queryData.then(<span class="function"><span class="params">ret</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ret)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><ul>
<li><p>后端路由</p>
<p>概念：根据不同的用户url请求，返回不同的内容</p>
<p>本质：url请求地址与服务器资源之间的对应关系</p>
</li>
<li><p>前端路由</p>
<p>SPA实现原理：基于url地址的hash（hash的变化会导致浏览器记录访问历史的变化，但是hash的变化不会触发新的url请求）</p>
<p>概念：根据不同的用户事件，显示不同的页面内容</p>
<p>本质：用户事件与事件处理函数之间的对应关系</p>
</li>
</ul>
<h3 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue Router"></a>Vue Router</h3><p>官方的路由管理器</p>
<p>包含的功能有：</p>
<ul>
<li>支持html5的历史模式或hash模式</li>
<li>支持嵌套路由</li>
<li>支持路由参数</li>
<li>支持编程式路由</li>
<li>支持命名路由</li>
<li>etc…</li>
</ul>
<h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><ol>
<li><p>引入相关的库文件（先引用vue，再引用vue-router）</p>
</li>
<li><p>添加路由链接</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=<span class="string">"/user"</span>&gt;&lt;<span class="regexp">/router-link&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>添加路由填充位</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;<span class="regexp">/router-view&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>定义路由组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> User = &#123;</span><br><span class="line">	template: <span class="string">'&lt;h1&gt;User&lt;/h1&gt;'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置路由规则并创建路由实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建路由实例对象</span></span><br><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">	<span class="comment">//路由规则数组</span></span><br><span class="line">	routes: [</span><br><span class="line">		<span class="comment">//每个路由规则都是一个配置对象，其中至少包含path和component两个属性，path表示当前路由规则匹配的hash地址；component表示当前路由规则对应要展示的组件</span></span><br><span class="line">		&#123;<span class="attr">path</span>:<span class="string">'/user'</span>,<span class="attr">component</span>:User&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>把路由挂载到Vue根实例中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">"#app"</span>,</span><br><span class="line">  <span class="comment">//为了能够让路由规则生效，必须把路由对象挂载到vue实例对象上</span></span><br><span class="line">	router</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h4 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h4><ol>
<li><p>父路由组件模版</p>
<ul>
<li>父级路由链接</li>
<li>父组件路由填充位</li>
</ul>
</li>
<li><p>子级路由模版</p>
<ul>
<li>子级路由链接</li>
<li>子级路由填充位</li>
</ul>
</li>
<li><p>嵌套路由配置</p>
<ul>
<li><p>父级路由通过children属性配置子级路由</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">	routes: [</span><br><span class="line">		&#123;</span><br><span class="line">      path:<span class="string">'/register'</span>,</span><br><span class="line">      component:Register,</span><br><span class="line">      <span class="comment">//为/register添加子路由规则</span></span><br><span class="line">      childeren:[</span><br><span class="line">      	&#123;</span><br><span class="line">      		path: <span class="string">'/register/tab1'</span>,</span><br><span class="line">      		component: Tab1</span><br><span class="line">      	&#125;,</span><br><span class="line">      	&#123;</span><br><span class="line">      		path: <span class="string">'/register/tab2'</span>,</span><br><span class="line">      		component: Tab2</span><br><span class="line">      	&#125;</span><br><span class="line">      ]</span><br><span class="line">		&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<h4 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h4><h5 id="基本用法-3"><a href="#基本用法-3" class="headerlink" title="基本用法"></a>基本用法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">	routes: [</span><br><span class="line">		&#123;<span class="attr">path</span>:<span class="string">'/user/:id'</span>,<span class="attr">component</span>:User&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = &#123;</span><br><span class="line">	<span class="comment">//路由组件中通过$route.params获取路由参数</span></span><br><span class="line">	template: <span class="string">'&lt;div&gt;User&#123;&#123; $route.params.id &#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="路由组件传递参数"><a href="#路由组件传递参数" class="headerlink" title="路由组件传递参数"></a>路由组件传递参数</h5><p>$route与对应路由形成高度耦合，不够灵活，所以可以使用props将组件和路由解耦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.props的值为布尔类型</span></span><br><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">	routes: [</span><br><span class="line">    <span class="comment">//props设置为true，route.params将会被设置为组件属性</span></span><br><span class="line">		&#123;<span class="attr">path</span>:<span class="string">'/user/:id'</span>,<span class="attr">component</span>:User,<span class="attr">props</span>:<span class="literal">true</span>&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = &#123;</span><br><span class="line">  props: [<span class="string">'id'</span>],<span class="comment">//使用props接收路由参数</span></span><br><span class="line">	template: <span class="string">'&lt;div&gt;User&#123;&#123; id &#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.props的值为对象</span></span><br><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">	routes: [</span><br><span class="line">    <span class="comment">//props设置为对象，他会被按原样设置为组件属性</span></span><br><span class="line">		&#123;<span class="attr">path</span>:<span class="string">'/user/:id'</span>,<span class="attr">component</span>:User,<span class="attr">props</span>:&#123;<span class="attr">uname</span>:<span class="string">'lily'</span>,<span class="attr">age</span>:<span class="number">12</span>&#125;&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = &#123;</span><br><span class="line">  props: [<span class="string">'uname'</span>,<span class="string">'age'</span>],<span class="comment">//使用props接收路由参数</span></span><br><span class="line">	template: <span class="string">'&lt;div&gt;User&#123;&#123; uname + '</span>---<span class="string">' + age &#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.props的值为函数</span></span><br><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">	routes: [</span><br><span class="line">    <span class="comment">//props设置为函数，则这个函数接收route对象为自己的形参</span></span><br><span class="line">		&#123;</span><br><span class="line">      path:<span class="string">'/user/:id'</span>,</span><br><span class="line">      component:User,</span><br><span class="line">      props:<span class="function"><span class="params">route</span>=&gt;</span>(&#123;<span class="attr">uname</span>:<span class="string">'lily'</span>,<span class="attr">age</span>:<span class="number">20</span>,<span class="attr">id</span>:route.params.id&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">	]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> User = &#123;</span><br><span class="line">  props: [<span class="string">'uname'</span>,<span class="string">'age'</span>,<span class="string">'id'</span>],</span><br><span class="line">	template: <span class="string">'&lt;div&gt;User&#123;&#123; uname + '</span>---<span class="string">' + age + '</span>---<span class="string">' + id &#125;&#125;&lt;/div&gt;'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h4><p>为了方便的表示路由的路径，可以给路由规则起一个别名，即为命名路由</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> Router(&#123;</span><br><span class="line">	routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path:<span class="string">'/user/:id'</span>,</span><br><span class="line">      component:User,</span><br><span class="line">      name: <span class="string">'user'</span></span><br><span class="line">    &#125;</span><br><span class="line">	]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;router-link :to=<span class="string">"&#123;name:'user',params:&#123;id:12&#125;&#125;"</span>&gt;User&lt;<span class="regexp">/router-link&gt;  /</span><span class="regexp">/声明式导航</span></span><br><span class="line"><span class="regexp">router.push(&#123;name:'user',params:&#123;id:12&#125;&#125;)</span></span><br></pre></td></tr></table></figure>



<h4 id="编程式导航"><a href="#编程式导航" class="headerlink" title="编程式导航"></a>编程式导航</h4><p>常用的编程式导航API如下：</p>
<ul>
<li><p>this.$router.push(‘hash地址’)</p>
<p>参数规则</p>
<ol>
<li><p>字符串（路径名称）</p>
<p>router.push(‘/home’)</p>
</li>
<li><p>对象</p>
<p>router.push({path:’/home’})</p>
</li>
<li><p>命名的路由（传递参数）</p>
<p>router.push({name: ‘/user’,params:{userId:123}})</p>
</li>
<li><p>带查询的参数，变成/register?uname=lisi</p>
<p>router.push({path:’/register’,query:{uname:’lisi’}})</p>
</li>
</ol>
</li>
<li><p>this.$router.go(n)</p>
</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Cheers</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://xiaoxin1993.gitee.io/2020/04/21/vue-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/">https://xiaoxin1993.gitee.io/2020/04/21/vue-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/VUE/">VUE</a><a class="post-meta__tags" href="/tags/VUE-2/">VUE 2</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/04/23/js-%E6%A0%87%E5%87%86%E5%BA%93/"><img class="prev_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">js-标准库</div></div></a></div><div class="next-post pull_right"><a href="/2020/04/21/vue-vue3.0/"><img class="next_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">vue-vue3.0</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/04/20/vue-Vue单文件组件/" title="vue-Vue单文件组件"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-20</div><div class="relatedPosts_title">vue-Vue单文件组件</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/16/vue-README/" title="vue-README"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-16</div><div class="relatedPosts_title">vue-README</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/20/vue-模块化相关规范/" title="vue-模块化相关规范"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-20</div><div class="relatedPosts_title">vue-模块化相关规范</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/20/vue-脚手架/" title="vue-脚手架"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-20</div><div class="relatedPosts_title">vue-脚手架</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/21/vue-vue3.0/" title="vue-vue3.0"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-21</div><div class="relatedPosts_title">vue-vue3.0</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By Cheers</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my blog!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="/js/search/algolia.js"></script></body></html>