<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>node-start | Cheers's blog</title><meta name="description" content="起步1.安装Node环境 打开命令行，输入node  –version 查看当前Node环境的版本号 下载：node官网 安装 确认Node环境安装成功 环境变量  2.Hello World 创建编写js脚本文件  打开终端，定位到文件目录  输入node 文件名，执行文件    解析执行js 读写文件 http  nodejs中的js具有文件操作的能力 fs是file-system的简写，就是"><meta name="keywords" content="Node.js"><meta name="author" content="Cheers"><meta name="copyright" content="Cheers"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="node-start"><meta name="twitter:description" content="起步1.安装Node环境 打开命令行，输入node  –version 查看当前Node环境的版本号 下载：node官网 安装 确认Node环境安装成功 环境变量  2.Hello World 创建编写js脚本文件  打开终端，定位到文件目录  输入node 文件名，执行文件    解析执行js 读写文件 http  nodejs中的js具有文件操作的能力 fs是file-system的简写，就是"><meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="og:type" content="article"><meta property="og:title" content="node-start"><meta property="og:url" content="https://xiaoxin1993.gitee.io/2020/04/09/node-start/"><meta property="og:site_name" content="Cheers's blog"><meta property="og:description" content="起步1.安装Node环境 打开命令行，输入node  –version 查看当前Node环境的版本号 下载：node官网 安装 确认Node环境安装成功 环境变量  2.Hello World 创建编写js脚本文件  打开终端，定位到文件目录  输入node 文件名，执行文件    解析执行js 读写文件 http  nodejs中的js具有文件操作的能力 fs是file-system的简写，就是"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-04-09T05:39:24.094Z"><meta property="article:modified_time" content="2020-04-09T05:39:24.094Z"><link rel="manifest" href="/manifest.json"/><meta name="theme-color" content="#fff"/><meta name="msapplication-TileColor" content="#fff"/><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"/><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://xiaoxin1993.gitee.io/2020/04/09/node-start/"><link rel="prev" title="node-文件操作" href="https://xiaoxin1993.gitee.io/2020/04/09/node-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/"><link rel="next" title="node-README" href="https://xiaoxin1993.gitee.io/2020/04/09/node-README/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"EMXSTUCH7A","apiKey":"5e62a2c8d04b2e5a21e6bb491c9bf2f9","indexName":"blog","hits":{"per_page":6},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: false,
  Snackbar: {"bookmark":{"message_prev":"Press","message_next":"to bookmark this page"},"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar_img.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">34</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">10</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">45</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#起步"><span class="toc-number">1.</span> <span class="toc-text">起步</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-安装Node环境"><span class="toc-number">1.1.</span> <span class="toc-text">1.安装Node环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Hello-World"><span class="toc-number">1.2.</span> <span class="toc-text">2.Hello World</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Node中的Javascript"><span class="toc-number">1.3.</span> <span class="toc-text">3.Node中的Javascript</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Node中的模块系统"><span class="toc-number">1.4.</span> <span class="toc-text">4.Node中的模块系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-IP地址和端口号的概念"><span class="toc-number">1.5.</span> <span class="toc-text">5.IP地址和端口号的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-在Node中使用模板引擎"><span class="toc-number">1.6.</span> <span class="toc-text">6.在Node中使用模板引擎</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-服务端渲染"><span class="toc-number">1.7.</span> <span class="toc-text">7.服务端渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-代码风格"><span class="toc-number">1.8.</span> <span class="toc-text">8.代码风格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-REPL"><span class="toc-number">1.9.</span> <span class="toc-text">9.REPL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-文件操作路径和模块标识路径"><span class="toc-number">1.10.</span> <span class="toc-text">10.文件操作路径和模块标识路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-异步编程"><span class="toc-number">1.11.</span> <span class="toc-text">11.异步编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#回调函数"><span class="toc-number">1.11.1.</span> <span class="toc-text">回调函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise"><span class="toc-number">1.11.2.</span> <span class="toc-text">Promise</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#基本语法："><span class="toc-number">1.11.2.1.</span> <span class="toc-text">基本语法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#基本用法"><span class="toc-number">1.11.2.2.</span> <span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#封装Promise版本的readFile"><span class="toc-number">1.11.2.3.</span> <span class="toc-text">封装Promise版本的readFile</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Promise使用场景"><span class="toc-number">1.11.2.4.</span> <span class="toc-text">Promise使用场景</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-模块作用域"><span class="toc-number">1.12.</span> <span class="toc-text">12.模块作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#path路径操作模块"><span class="toc-number">1.13.</span> <span class="toc-text">path路径操作模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Node中的其他成员"><span class="toc-number">1.14.</span> <span class="toc-text">Node中的其他成员</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><div class="post-bg" id="nav" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Cheers's blog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">node-start</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2020-04-09 13:39:24"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2020-04-09</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2020-04-09 13:39:24"><i class="fa fa-history" aria-hidden="true"></i> Updated 2020-04-09</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Node-js/">Node.js</a><i class="fa fa-angle-right post-meta__separator" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Node-js/%E8%B5%B7%E6%AD%A5/">起步</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h1><h2 id="1-安装Node环境"><a href="#1-安装Node环境" class="headerlink" title="1.安装Node环境"></a>1.安装Node环境</h2><ul>
<li>打开命令行，输入node  –version 查看当前Node环境的版本号</li>
<li>下载：node官网</li>
<li>安装</li>
<li>确认Node环境安装成功</li>
<li>环境变量</li>
</ul>
<h2 id="2-Hello-World"><a href="#2-Hello-World" class="headerlink" title="2.Hello World"></a>2.Hello World</h2><ul>
<li><p>创建编写js脚本文件</p>
</li>
<li><p>打开终端，定位到文件目录</p>
</li>
<li><p>输入node 文件名，执行文件</p>
</li>
</ul>
<ol>
<li>解析执行js</li>
<li>读写文件</li>
<li>http</li>
</ol>
<p>nodejs中的js具有文件操作的能力</p>
<p>fs是file-system的简写，就是文件系统</p>
<p>在Nodejs中如果想要进行文件操作，就必须引入fs这个核心模块</p>
<p>例如：fs.readFile就是用来读取文件的</p>
<ol>
<li><p>使用require方法加载fs核心模块</p>
<p><code>var fs = require(&#39;fs&#39;)</code></p>
</li>
<li><p>读取文件</p>
<p>第一个参数是要读取的文件路径；第二个参数是回调函数，其中参数error、data</p>
<p>成功：data数据 error null</p>
<p>失败：data undefined没有数据   error 错误对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fs.readFile(<span class="string">'./README.md'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">error, data</span>)</span>&#123;</span><br><span class="line">   <span class="comment">/*&lt;Buffer 79 6f 75 20 72 65 61 64 20 6d 65&gt;</span></span><br><span class="line"><span class="comment">文件中存储的其实都是二进制数据 0 1</span></span><br><span class="line"><span class="comment">   这里为什么看到的不是0和1呢 ？是因为二进制转为十六进制了</span></span><br><span class="line"><span class="comment">但是无论是二进制还是十六进制，人类都不认识</span></span><br><span class="line"><span class="comment">   所以可以通过toString方法把其转为我们能认识的字符*/</span></span><br><span class="line">	<span class="built_in">console</span>.log(data.toString())</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="3-Node中的Javascript"><a href="#3-Node中的Javascript" class="headerlink" title="3.Node中的Javascript"></a>3.Node中的Javascript</h2><ul>
<li><p>ECMAscript</p>
<p>没有DOM、BOM</p>
</li>
</ul>
<h2 id="4-Node中的模块系统"><a href="#4-Node中的模块系统" class="headerlink" title="4.Node中的模块系统"></a>4.Node中的模块系统</h2><ul>
<li><p>核心模块</p>
<p>Node为js提供了很多服务器级别的API，这些API绝大多数都被包装到了一个具名的核心模块中了 例如：文件操作的fs核心模块、http服务构建的http模块、path路径操作模块、os操作系统信息模块等</p>
<p>var fs = require(‘fs’)</p>
</li>
<li><p>用户自定义模块</p>
<p>require</p>
<p>exports</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//a.js</span></span><br><span class="line"><span class="comment">/*简单的模块化</span></span><br><span class="line"><span class="comment">* require是一个方法</span></span><br><span class="line"><span class="comment">* 他的作用就是用来加载模块的</span></span><br><span class="line"><span class="comment">* 在Node中，模块有三种：具名的核心模块，如fs、http；用户自己编写的文件模块*/</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'./b.js'</span>)</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'./b'</span>)<span class="comment">//推荐此写法</span></span><br><span class="line"><span class="comment">//用户自己编写的文件模块 相对路径必须加./  不能省略，否则报错</span></span><br><span class="line"><span class="comment">//后缀名.js可以省略</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//b.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'执行b'</span>)</span><br></pre></td></tr></table></figure>

<p><strong><u>在Node中没有全局作用域，只有模块作用域（即文件作用域），外部访问不到内部，内部也访问不到外部</u></strong></p>
</li>
</ul>
<p>既然是模块作用域，那如何让模块与模块之间进行通信。有时候我们加载文件模块的目的不是为了仅仅运行文件，而是为了使用文件中的方法</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模块加载与导出，实现模块间的通信</span></span><br><span class="line"><span class="comment">//a.js</span></span><br><span class="line"><span class="comment">/*require方法有两个作用</span></span><br><span class="line"><span class="comment">  1.加载文件模块并执行里面的代码</span></span><br><span class="line"><span class="comment">  2.拿到被加载文件模块导出的接口对象</span></span><br><span class="line"><span class="comment">  在每个文件模块中都提供了一个对象exports（默认是一个空对象）</span></span><br><span class="line"><span class="comment">  要做的就是把所有需要被外部访问的成员放到exports对象中</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'./b'</span>)</span><br></pre></td></tr></table></figure>

  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//b.js</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="string">'Hello'</span></span><br><span class="line">exports.foo = foo</span><br></pre></td></tr></table></figure>

<ul>
<li>第三方模块</li>
</ul>
<h2 id="5-IP地址和端口号的概念"><a href="#5-IP地址和端口号的概念" class="headerlink" title="5.IP地址和端口号的概念"></a>5.IP地址和端口号的概念</h2><p>所有联网的程序都需要进行网络通信</p>
<p>计算机中只有一个物理网卡，而且同一个局域网中，网卡的地址必须是唯一的</p>
<p>网卡是通过唯一的ip地址来进行定位的</p>
<ol>
<li>ip地址用来定位计算机</li>
<li>端口号用来定位具体的应用程序（所有需要联网通信的软件都会占用一个端口号）</li>
<li>端口号的范围0-65536之间</li>
<li>在计算机中有一些默认的端口号，最好不要去使用，例如http服务的80</li>
<li>我们在开发过程中使用一些简单好记的即可，例如3000、5000等</li>
<li>可以同时开启多个服务，但一定要确保不同服务占用的端口号不一致才可以（在一台计算机中，同一个端口号同一时间只能被一个程序占用）</li>
</ol>
<h2 id="6-在Node中使用模板引擎"><a href="#6-在Node中使用模板引擎" class="headerlink" title="6.在Node中使用模板引擎"></a>6.在Node中使用模板引擎</h2><p>统一处理静态资源</p>
<ul>
<li><p>art-template：不仅可以在浏览器中使用，也可以在Node中使用</p>
<ul>
<li><p>安装：npm install art-template</p>
<ul>
<li>该命令在哪执行就会把包下载到哪里，默认会下载到node_modules目录中</li>
<li>node_modules不要改，也不支持改</li>
</ul>
</li>
<li><p>在浏览器中需要引用lib/template-web.js文件</p>
<p>==模板引擎不关心你的字符串内容，只关心自己能认识的模板标记语法{{}}，即mustache语法==</p>
</li>
<li><p>在Node中使用art-template模板引擎</p>
<ul>
<li>模板引擎最早就是诞生于服务器领域，后来才发展到了前端</li>
<li>查文档，使用模板引擎的API</li>
<li>加载方法  var template = require(‘art-template’)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="7-服务端渲染"><a href="#7-服务端渲染" class="headerlink" title="7.服务端渲染"></a>7.服务端渲染</h2><p>使用模板引擎解析替换html页面，利于SEO搜索引擎优化</p>
<ul>
<li><p>服务端渲染和客户端渲染</p>
<ul>
<li>客户端渲染（最少请求两次。第一次请求拿到的是页面，第二次请求拿到的是动态数据）<ol>
<li>收到服务端响应的字符串了</li>
<li>从上到下一次解析，在解析的过程中，如果发现ajax请求，则再次发起新的请求</li>
<li>发请求</li>
<li>拿到ajax响应结果</li>
<li>模板引擎渲染</li>
</ol>
</li>
<li>服务端渲染（只请求了一次。响应的就是最终的结果，客户端不需要再做处理）<ol>
<li>读取index.html</li>
<li>模板引擎渲染。在发送给客户端之前，在服务端就已经把index.html渲染处理了</li>
</ol>
</li>
</ul>
<p>服务端渲染是可以被爬虫抓取到的，客户端异步渲染是很难被爬虫抓取到的</p>
<p>真正的网站既不是纯异步也不是纯服务端渲染出来的，而是两者结合来做的</p>
<p>例如京东的商品列表就采用的是服务端渲染，目的是为了SEO搜索引擎优化；而他的商品评论列表为了用户体验，而且也不需要SEO优化，所以采用的是客户端渲染</p>
</li>
</ul>
<h2 id="8-代码风格"><a href="#8-代码风格" class="headerlink" title="8.代码风格"></a>8.代码风格</h2><p>为了约定大家的代码风格，所以在社区中诞生了一些比较规范的代码风格规范</p>
<ul>
<li><a href="https://standardjs.com/readme-zhcn.html" target="_blank" rel="noopener">JavaScript Standard Style</a></li>
<li><a href="https://github.com/sivan/javascript-style-guide/blob/master/es5/README.md" target="_blank" rel="noopener">Airbnb JavaScript Style</a>  <strong>推荐</strong></li>
</ul>
<p>当你采用了无分号的代码风格的时候，只需要注意以下情况就不会有下面的问题了<br>==当一行代码是以( [ ` 开头的时候，则在前面补上一个分号以避免一些语法错误==</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'hello world'</span>)</span><br><span class="line">&#125;</span><br><span class="line">say()	<span class="comment">//TypeError: say() is not a function</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">&#125;)()</span><br><span class="line"><span class="comment">//当一行代码是以([`开头的时候，则在前面补上一个分号以避免一些语法错误</span></span><br><span class="line"><span class="comment">//会发现第三方插件的代码中都能看到一上来就以一个；开头</span></span><br><span class="line"><span class="comment">//无论代码风格是否有分号，都建议如果一行代码是以([`开头的，则最好都在其前面补上;</span></span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">&#125;)()</span><br><span class="line">[<span class="string">'苹果'</span>,<span class="string">'香蕉'</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;)	<span class="comment">//报错 </span></span><br><span class="line">;[<span class="string">'苹果'</span>,<span class="string">'香蕉'</span>].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>`是EcmaScript6中新增的一种字符串包裹方式，叫做：模板字符串。支持换行和非常方便拼接变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="string">`</span></span><br><span class="line"><span class="string">  大家好</span></span><br><span class="line"><span class="string">  hello</span></span><br><span class="line"><span class="string">  world</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="string">`hello`</span>.toString()<span class="comment">//报错 改为	;`hello`.toString()</span></span><br></pre></td></tr></table></figure>

<p>《编写可维护的JavaScript》</p>
<h2 id="9-REPL"><a href="#9-REPL" class="headerlink" title="9.REPL"></a>9.REPL</h2><p>Read Eval Print Loop:交互式解释器。表示一个电脑的环境，类似 Window 系统的终端或 Unix/Linux shell，我们可以在终端中输入命令，并接收系统的响应。</p>
<p>在终端中输入<code>node</code>命令直接敲回车</p>
<p>Node 自带了交互式解释器，可以执行以下任务：</p>
<ul>
<li><strong>读取</strong> - 读取用户输入，解析输入了Javascript 数据结构并存储在内存中。</li>
<li><strong>执行</strong> - 执行输入的数据结构</li>
<li><strong>打印</strong> - 输出结果</li>
<li><strong>循环</strong> - 循环操作以上步骤直到用户两次按下 <strong>ctrl-c</strong> 按钮退出。</li>
</ul>
<p>Node 的交互式解释器可以很好的调试 Javascript 代码。</p>
<h2 id="10-文件操作路径和模块标识路径"><a href="#10-文件操作路径和模块标识路径" class="headerlink" title="10.文件操作路径和模块标识路径"></a>10.文件操作路径和模块标识路径</h2><ul>
<li>文件操作中的相对路径可以省略./</li>
<li>模块标识中的相对路径中的./不能省略</li>
</ul>
<h2 id="11-异步编程"><a href="#11-异步编程" class="headerlink" title="11.异步编程"></a>11.异步编程</h2><h3 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h3><p>函数是一种数据类型，既能当参数，也能当返回值</p>
<p><strong>凡是需要得到一个函数内部异步操作的结果</strong></p>
<ul>
<li>setTimeout</li>
<li>readFile</li>
<li>writeFile</li>
<li>ajax</li>
</ul>
<p>这种情况必须通过，回调函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x,y,callback</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//callback就是回调函数</span></span><br><span class="line">  <span class="comment">//var x = 10</span></span><br><span class="line">  <span class="comment">//var y = 20</span></span><br><span class="line">  <span class="comment">//var callback = function(ret)&#123;console.log(ret)&#125;</span></span><br><span class="line">  </span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ret = x + y</span><br><span class="line">    callback(ret)</span><br><span class="line">  &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(<span class="number">10</span>,<span class="number">20</span>,<span class="function"><span class="keyword">function</span>(<span class="params">ret</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ret)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>JavaScript编程的一大特色：异步编程</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><blockquote>
<p><a href="https://es6.ruanyifeng.com/" target="_blank" rel="noopener">ECMAScript 6 入门</a></p>
</blockquote>
<p>起因- -〉callback hell:回调地狱</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//抛出异常</span></span><br><span class="line"><span class="comment">// 1.阻止程序的执行</span></span><br><span class="line"><span class="comment">// 2.把错误消息打印到控制台</span></span><br><span class="line"><span class="keyword">throw</span> err</span><br></pre></td></tr></table></figure>

<p>为了解决回调地狱嵌套的问题，所以在ES6中新增了一个API：<code>Promise</code></p>
<ul>
<li>Promise的英文就是承诺，保证的意思</li>
</ul>
<h4 id="基本语法："><a href="#基本语法：" class="headerlink" title="基本语法："></a>基本语法：</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Promise是一个构造函数（Promise本身不是异步，但是内部往往封装一个异步任务）</span></span><br><span class="line"><span class="comment"> * 1.创建Promise容器</span></span><br><span class="line"><span class="comment"> *   Promise容器一旦创建，就开始执行里面的代码</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    fs.readFile(<span class="string">'./a.txt'</span>,<span class="string">'utf8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            <span class="comment">//失败了，承若容器中的任务失败了</span></span><br><span class="line">            <span class="comment">//把容器的Pending状态变为Rejected</span></span><br><span class="line">            <span class="comment">//调用了reject就相当于调用了then中的第二个参数</span></span><br><span class="line">            reject(err)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//承诺容器中的任务成功了</span></span><br><span class="line">            <span class="comment">//把容器的Pending状态变为Resolved</span></span><br><span class="line">            <span class="comment">//也就是说，这里调用的resolve方法实际上就是then方法传递的那个function</span></span><br><span class="line">            resolve(data)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//p1就是那个承诺</span></span><br><span class="line"><span class="comment">//当p1成功了，然后（then）做指定的操作</span></span><br><span class="line"><span class="comment">//then方法接收的function就是容器中的resolve函数</span></span><br><span class="line">p1</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">    &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'读取文件失败了'</span>)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h4 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Promise是一个构造函数（Promise本身不是异步，但是内部往往封装一个异步任务）</span></span><br><span class="line"><span class="comment"> * 1.创建Promise容器</span></span><br><span class="line"><span class="comment"> *   Promise容器一旦创建，就开始执行里面的代码</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    fs.readFile(<span class="string">'./a.txt'</span>,<span class="string">'utf8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            <span class="comment">//失败了，承若容器中的任务失败了</span></span><br><span class="line">            <span class="comment">//把容器的Pending状态变为Rejected</span></span><br><span class="line">            <span class="comment">//调用了reject就相当于调用了then中的第二个参数</span></span><br><span class="line">            reject(err)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//承诺容器中的任务成功了</span></span><br><span class="line">            <span class="comment">//把容器的Pending状态变为Resolved</span></span><br><span class="line">            <span class="comment">//也就是说，这里调用的resolve方法实际上就是then方法传递的那个function</span></span><br><span class="line">            resolve(data)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    fs.readFile(<span class="string">'./b.txt'</span>,<span class="string">'utf8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            reject(err)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            resolve(data)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    fs.readFile(<span class="string">'./c.txt'</span>,<span class="string">'utf8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">            reject(err)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            resolve(data)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//p1就是那个承诺</span></span><br><span class="line"><span class="comment">//当p1成功了，然后（then）做指定的操作</span></span><br><span class="line"><span class="comment">//then方法接收的function就是容器中的resolve函数和reject函数</span></span><br><span class="line">p1</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">        <span class="comment">//当p1读取成功的时候</span></span><br><span class="line">        <span class="comment">//当前函数中，return的结果就可以在后面的then中function接收到</span></span><br><span class="line">        <span class="comment">//当return123后面就接收到123；return 的数据没什么用</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//当return一个Promise对象的时候,下一个then的参数是这个Promise对象的resolve和reject函数</span></span><br><span class="line">        <span class="keyword">return</span> p2</span><br><span class="line">    &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'读取文件失败了'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">        <span class="keyword">return</span> p3</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'end'</span>)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h4 id="封装Promise版本的readFile"><a href="#封装Promise版本的readFile" class="headerlink" title="封装Promise版本的readFile"></a>封装Promise版本的readFile</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pReadFile</span>(<span class="params">filePath</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">        fs.readFile(filePath,<span class="string">'utf8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(err)&#123;</span><br><span class="line">                reject(err)</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                resolve(data)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">pReadFile(<span class="string">'./a.txt'</span>)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">        <span class="keyword">return</span> pReadFile(<span class="string">'./b.txt'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(data)</span><br><span class="line">        <span class="keyword">return</span> pReadFile(<span class="string">'./c.txt'</span>)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Promise使用场景"><a href="#Promise使用场景" class="headerlink" title="Promise使用场景"></a>Promise使用场景</h4><h2 id="12-模块作用域"><a href="#12-模块作用域" class="headerlink" title="12.模块作用域"></a>12.模块作用域</h2><p>可以使用API来进行文件与文件之间的依赖加载<br>在Node这个环境中对JavaScript进行了特殊的模块化支持CommonJS</p>
<ul>
<li>JavaScript天生不支持模块化<ul>
<li>require</li>
<li>exports</li>
<li>Node.js才有</li>
</ul>
</li>
<li>在浏览器中也可以像在Node中的模块一样来进行编程<ul>
<li><code>script</code>标签来引用加载，而且还必须考虑加载的顺序问题</li>
<li>require.js第三方库AMD</li>
<li>sea.js第三方库CMD</li>
</ul>
</li>
<li>无论是CommonJS、AMD、CMD、UMD。ECMAScript6 Modules官方规范<ul>
<li>都是为了解决JavaScript的模块化问题</li>
<li>CommonJS、AMD、CMD都是民间搞出来的</li>
<li>ECMAScript是官方规范定义的</li>
<li>开发人员为了在不同的环境使用不同的JavaScript模块化解决方法，所以ECMAScript在2015年发布了ECMAScript 2016官方标准，其中就包含了官方对JavaScript模块化的支持。也就是说语言天生就支持了。但是虽然标准已经发布了，但是JS运行环境还不支持</li>
<li>Node也是在8.5版本后才对ES6 Module进行了支持</li>
<li>ES6 可以使用编译器转为ES5<br>目前的前端情况是使用很多新的技术，然后利用编译器工具打包可以在低版本浏览器运行<br>使用新技术的目的就是为了提高效率，增加可维护性</li>
</ul>
</li>
</ul>
<h2 id="path路径操作模块"><a href="#path路径操作模块" class="headerlink" title="path路径操作模块"></a>path路径操作模块</h2><ul>
<li>path.basename<ul>
<li>获取一个路径的文件名（默认包含扩展名）</li>
</ul>
</li>
<li>path.dirname<ul>
<li>获取一个路径中的目录部分</li>
</ul>
</li>
<li>path.extname<ul>
<li>获取一个路径中的扩展名部分</li>
</ul>
</li>
<li>path.parse<ul>
<li>把一个路径转为对象<ul>
<li>root根路径</li>
<li>dir目录</li>
<li>base包含后缀名的文件名</li>
<li>ext后缀名</li>
<li>name不包含后缀名的文件名</li>
</ul>
</li>
</ul>
</li>
<li>path.join<ul>
<li>当需要路径拼接时，使用</li>
</ul>
</li>
<li>path.isAbsolute<ul>
<li>判定一个路径是否是绝对路径</li>
</ul>
</li>
</ul>
<h2 id="Node中的其他成员"><a href="#Node中的其他成员" class="headerlink" title="Node中的其他成员"></a>Node中的其他成员</h2><p>在每个模块中，除了<code>require</code>、 <code>exports</code>等模块相关API之外，还有两个特殊的成员</p>
<ul>
<li><code>__dirname</code><strong>动态获取</strong>可以用来获取当前文件模块所属目录的绝对路径</li>
<li><code>__filename</code><strong>动态获取</strong>可以用来获取当前文件的绝对路径</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Cheers</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://xiaoxin1993.gitee.io/2020/04/09/node-start/">https://xiaoxin1993.gitee.io/2020/04/09/node-start/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Node-js/">Node.js</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/xiaoxin1993/imgs/raw/master/blog/posts/cover/helloworld.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/04/09/node-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/"><img class="prev_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">node-文件操作</div></div></a></div><div class="next-post pull_right"><a href="/2020/04/09/node-README/"><img class="next_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">node-README</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/04/10/node-Apache目录列表(模板引擎)/" title="node-Apache目录列表(模板引擎)"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-10</div><div class="relatedPosts_title">node-Apache目录列表(模板引擎)</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/10/node-Node中使用模板引擎/" title="node-Node中使用模板引擎"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-10</div><div class="relatedPosts_title">node-Node中使用模板引擎</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/11/node-Express/" title="node-Express"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-11</div><div class="relatedPosts_title">node-Express</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/14/node-MongoDB/" title="node-MongoDB"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-14</div><div class="relatedPosts_title">node-MongoDB</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/09/node-README/" title="node-README"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-09</div><div class="relatedPosts_title">node-README</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/14/node-mySql/" title="node-mySql"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-14</div><div class="relatedPosts_title">node-mySql</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By Cheers</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Hi, welcome to my blog!</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="/js/search/algolia.js"></script></body></html>